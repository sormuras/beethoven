dependencies {
    testRuntime 'org.junit.platform:junit-platform-console:1.0.0-SNAPSHOT'
    testRuntime 'org.junit.jupiter:junit-jupiter-engine:5.0.0-SNAPSHOT'
}

task runJupiter(type: JavaExec) {

    jvmArgs '-ea'
    jvmArgs '-Djava.util.logging.config.file=src/test/resources/logging.properties'

    classpath = project.sourceSets.test.runtimeClasspath

    main 'org.junit.platform.console.ConsoleLauncher'
    args '--scan-class-path'
    args '--hide-details'
    args "--reports-dir=$project.testReportDir"
}

test.dependsOn runJupiter
